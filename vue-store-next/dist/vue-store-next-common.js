"use strict";function t(o){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(o)}Object.defineProperty(exports,"__esModule",{value:!0});var o=require("vue");function e(o){return o&&"object"===t(o)&&"default"in o?o:{default:o}}var r=e(o),n=function(t,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])},n(t,o)};var i=function(){return i=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t},i.apply(this,arguments)};var s,u=function(t){var o={};return Object.getOwnPropertyNames(t).forEach((function(e){o[e]=Object.getOwnPropertyDescriptor(t,e)})),o},c=function(){function t(){this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.notify=function(t){for(var o=this.subs.length,e=0;e<o;e++)this.subs[e](t)},t.prototype.removeSub=function(t){var o=this.subs.indexOf(t);this.subs.splice(o,1)},t.prototype.destroy=function(){this.subs.splice(0,this.subs.length)},t}(),p="function"==typeof Symbol&&"symbol"===t(Symbol.toStringTag),f=(s="store",p?Symbol("[vue-store-next]: "+s):"[vue-store-next]: "+s),a=new c,l=function(){function t(){var o=this,e=function(t){for(var o={},e=t.length;e--;){var r=t[e];Object.assign(o,u(r))}return o}(function(t,o){for(var e=[],r=t;r!==o;)r=Object.getPrototypeOf(r),e.push(r);return e}(this,t.prototype));Object.keys(e).forEach((function(r){var n=e[r];void 0!==n&&/^\$/.test(r)&&"function"==typeof n.value&&Object.defineProperty(o,r,i(i({},n),{value:new Proxy(o[r],{apply:function(o,e,n){return t.showLog&&function(t,o){console.log(""),console.log("path：",t),console.log("params：",o),console.log("param：",o[0]||""),console.log("")}(e.path,n),a.notify({path:e.path+"."+r,params:n,param:n[0]}),o.call.apply(o,function(){for(var t=0,o=0,e=arguments.length;o<e;o++)t+=arguments[o].length;var r=Array(t),n=0;for(o=0;o<e;o++)for(var i=arguments[o],s=0,u=i.length;s<u;s++,n++)r[n]=i[s];return r}([e],n))}})}))}))}return t.showLog=!1,t}(),y=function(t){function e(o){var e=t.call(this)||this;return e.mergeOptions(o),e}return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(e,t),e.prototype.install=function(t){t.provide(f,this),t.config.globalProperties.$store=this},e.prototype.mergeOptions=function(t){var o=this;return t?(Object.keys(t).forEach((function(e){o[e]=t[e]})),this):this},e.prototype.getState=function(t,o){var e=this;Object.getOwnPropertyNames(o).forEach((function(r){o[r]instanceof l?e.getState(o,o[r]):t&&Object.keys(t).forEach((function(e){t[e]===o&&(o.path=t.path?t.path+"."+e:e)}))}))},e.prototype.init=function(t){return this.getState(null,this),void 0!==t&&(l.showLog=t),o.reactive(this)},e.prototype.addModule=function(t,o){return o?(this[t]=o,this.getState(this,this[t]),this):this},e.prototype.subscribe=function(t){return a.addSub(t),this},e.prototype.removeSub=function(t){return a.removeSub(t),this},e.prototype.destroySub=function(){return a.destroy(),this},e}(l);exports.StoreObserve=l,exports.default=y,exports.useStore=function(){return r.default.inject(f)};
